# 학습 체크리스트

- [x] MVC 패턴
- [x] 코딩의 기술 5장

# 학습 내용

## 1️⃣ MVC 패턴

2주차 미션이 끝나고 MVC 패턴으로 구성해봤다는 크루분들이 종종 보였습니다. (물론 BE분들이었습니다.) 백엔드에만 국한된 거라고 지레짐작하다가 너무 궁금해서 찾아보기로 했습니다.

MVC패턴의 원리는 간단합니다. “관심사의 분리”입니다. 그리고 그것을 크게 보면 “display(화면)” 과 “software’s business logic(비지니스 로직)”으로 나뉘어집니다.

- 모델: 데이터, 비지니스 로직
- 뷰: 레이아웃과 화면
- 컨트롤러: 명령을 모델과 뷰 부분으로 라우팅

얼핏 보기에는 웹 개발 중에서도 프론트엔드와 백엔드의 구분처럼 느껴집니다. 물론 프론트엔드 단에서, 백엔드 단에서도 세부적으로 화면과 비지니스로직을 분리할 수 있을 것 같다는 생각도 했습니다.

그렇다면 프리코스 미션에서 이를 어떻게 MVC패턴으로 나눌 수 있을까를 고민해봤습니다. View부분은 콘솔일 것입니다. 터미널을 통해서 값을 입력받고 결과를 출력하기 때문입니다. Model부분은 값을 계산하는 부분일 것입니다. 3주차를 예로 들면 로또를 생성하고, 당첨번호를 생성하고, 결과값을 도출하는 모든 과정이 모델일 것입니다. 반면에 자신이 산 로또번호들과 결과값에 대한 메세지가 뷰일 것입니다.

이번 미션에 경우 저는 주체별로 모듈을 나눴었습니다. 로또, 로또생성기, 로또 산 사람, 로또 관계자 등등… 하지만 이렇게 주체별로 나누는 것이 아니라 기능별로 나누라는 말인 것 같습니다. 하지만 2주차에서 삽질한 부분이 바로 readLine를 따로 분리할 수 없었다는 점입니다. promise를 사용하면 테스트에 통과하지 않기 때문입니다. 그나마 최선이 콜백부분만 따로 메소드를 구현하는 것이었습니다.

하지만 그것보다도 controller가 정확하게 어떻게 작동하는지 너무 궁금합니다. 검색 결과 view에 대한 모듈과 model에 대한 모듈의 인스턴스를 controller에서 생성하여 이벤트 발생시, 렌더링 시 등 변화가 생겼을 때 어느 모듈을 사용할지에 대한 제어처럼 보였습니다. 백문이 불여일견이라 다음 미션에서 꼭 적용해보고 싶다는 생각이 들었습니다.

🔗 참고자료

| 제목                       | 링크                                                      |
| -------------------------- | --------------------------------------------------------- |
| MVC 패턴1                  | https://developer.mozilla.org/ko/docs/Glossary/MVC        |
| MVC 패턴2                  | https://cocoon1787.tistory.com/733                        |
| 바닐라자바스크립트에서 MVC | https://velog.io/@imnotmoon/MVC-Pattern-vanila-JavaScript |

## 2️⃣ 자바스크립트 코딩의 기술 5장

### 5장: 반복문을 단순하게 만들어라

- **배열 메서드로 반복문을 짧게 장성하라**
  우테코 미션을 하면서 크루분들이 항상 고민하는 것이 반복문에 대한 것이었습니다. 배열 메소드 (고차함수)는 가독성을 좋게 만들어줍니다. 저 같은 경우는 map 과 forEach를 많이 사용했지만 여기서 강조하는 것은 reduce()였습니다. 예제를 보니 정말 활용가능성이 무궁무진하다는 것을 느꼈습니다. (추후에 나옵니다.)
  - map()
  - sort()
  - filter()
  - reduce()
  - find() `*주의: 배열을 반환하지 않기 때문에 메소드 체이닝에 주의해야 합니다.`
  - forEach() `*주의: 배열을 반환하지 않기 때문에 메소드 체이닝에 주의해야 합니다.`
- **filter(), find()로 데이터의 부분집합을 생성하라**
  find() 메소드는 조건에 맞는 배열의 최초 요소를 반환합니다. 만약 해당 조건에 만족하는 값이 없을 경우 undefined를 반환합니다. 반면에 filter() 메소드는 조건에 맞는 요소들의 배열을 반환합니다. 조건에 맞는 요소가 없을 경우 빈 배열을 반환하는 차이점이 있습니다.
  ```jsx
  const findByLibrary = (library) => (instructor) => {
    return instructor.libraries.includes(library);
  };

  const librarian = instructors.find(findByLibrary('서초구립도서관'));
  ```
  모든 배열의 고차함수 메소드가 그러하겠지만 콜백함수를 받습니다. 때문에 콜백함수에 함수를 그대로 인자로 받아서 사용이 가능합니다. 이를 이용하여 조건을 직접 설정하는 함수를 만들고, 그 함수를 콜백에 넣을 수 있도록하는 방식을 많이 사용합니다.
- **forEach()로 동일한 동작을 해라**
  항상 궁금했던 것이 있었습니다. forEach()로 할 수 있는 일은 map()으로도 할 수 있지 않을까? 제가 이런 생각을 했던 이유를 이 챕터를 통해 제대로 알게 되었습니다. 왜냐하면 forEach()는 반환없이 부수효과만을 다루기 때문입니다. 물론 map에서 반환된 배열을 사용하지 않고 콜백 로직을 부수효과만으로 채운다면 forEach()와 같을 것입니다. 하지만 쓰임에 맞지 않다는 것입니다.
  즉, 책에서도 나오듯, forEach()는 반드시 부수 효과를 다룰 경우에만 사용해야 합니다. 이러한 전제가 깔려 있기 때문에 협업을 할때도 forEach()가 있으면 부수 효과에 대한 것이라고 예측할 수 있겠다는 생각을 했습니다.
  ```jsx
  sailingClub.forEach((member) => sendEmail(member));
  ```
- **reduce()로 배열 데이터를 변환하라**
  reduce()메소드의 경우 단순히 합을 구하는 것이라고 생각했습니다. 물론 맞는 말이지만 이를 응용하면 활용이 무궁무진하다는 것이 이 책에 나옵니다.
  ```jsx
  //초기값 - 배열
  const colors = dogs.reduce((colors, dog) => {
    return [...colors, dog['색상']];
  }, []);
  ```
  숫자나 문자열 같이 원시값뿐만 아니라 초기값에 따라 배열을 추가하는 형식을 만들 수 있습니다. 네 맞습니다. map()의 기능을 reduce()로도 작성 가능한 것입니다.
  ```jsx
  //초기값 - 객체, 요소: set
  const dogs = [
    {
      이름: '맥스',
      견종: '푸들',
      크기: '소형견',
      색상: '검정색',
    },
    //...
  ];

  const filters = dogs.reduce(
    (filters, { 견종, 크기, 색상 }) => {
      filters.breed.add(견종);
      filters.size.add(크기);
      filters.color.add(색상);
      return filters;
    },
    {
      breed: new Set(),
      size: new Set(),
      color: new Set(),
    }
  );
  ```
  reduce()가 정말 무궁무진하다고 느껴지는 것은 초기값에 따라 배열에서 다양한 형태의 콜렉션 자료로 변환할 수 있다는 점입니다. 여기에 객체 디스터럭쳐링까지 하면 보다 읽기 쉬운 실행문을 만들 수 있습니다.
- **for…in문과 for…of 문으로 반복문을 정리하라**
  배열 메서드가 활용도가 높은 것은 사실이지만 for문을 사용해야하는 경우가 반드시 있다고 합니다. 저 역시 미션에서 모든 for문을 사용하려했지만 불가능한 경우가 있었습니다.
  예를 들어, 반복문을 돌던 중 특정 시점에서 중첩 반복문을 실행해야할 때 였습니다. 하지만 그 때 저는 for(let i=0; i < something.length; i++) 이런식으로 표현했었습니다. 이럴 경우 단점이 인덱스가 무엇을 뜻하는지 계속 기억하고 있어야 한다는 점입니다. 반복문이 중첩될 수록 해당 인덱스 i와 j가 무얼 가르키는 것인지 헷갈렸었습니다.
  같은 이유로 이 챕터에서 for…in , for…of 를 사용하여 반복문의 명료성을 유지하라는 것이 핵심이었습니다.

# 회고

## 1️⃣ 배운 점

1. 모듈 시스템을 어떠한 기준으로 나누어야할지 많이 생각할 수 있었습니다. 이번 미션에서는 모듈을 최대한 많이 나누어 역할을 분담했었지만 뷰-모델-컨트롤러 를 기준으로 하진 않았습니다. 주체에 맞게 나눴습니다. 물론 이 방법이 틀렸다고는 생각하진 않지만 다음에 꼭 MVC패턴으로 구현해보고 싶다는 생각입니다.
2. 코딩의기술 책에서 그동안 제대로 적립되지 않고 머릿속에서 떠돌아다녔던 정리할 수 있었습니다. 특히 reduce의 활용성 높은 예시와 forEach가 부수효과만 있을 때 사용한다는 예시는 많이 활용할 수 있을 것 같습니다.

## 2️⃣ 배울 점

1. 내일은 일정이 있어서 많은 공부를 못하기 때문에 최소한 코딩의 기술 다음 챕터는 읽고 정리할 수 있도록 하려합니다.
