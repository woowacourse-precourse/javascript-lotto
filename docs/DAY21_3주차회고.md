## 배운 것들

### 자바스크립트 코딩의 기술

저번주에는 모던 자바스크립트 핵심가이드 책을 읽었습니다. 미션하기도 바쁘고 구현도 쉽지 않았었는데 그래도 시간을 내어 추가로 책을 읽은 이유가 있습니다. 미션 외에 자바스크립트 문법을 지속적으로 찾아 공부하게 되니 예상치 못한 문법을 배우고 적용할 수 있기 때문입니다.

저번주보다 이번주에 더 많이 배운 것 같습니다. 모던 자바스크립트 핵심가이드 책은 기본 문법 중에서 유용한 것들을 추려서 알려주는 느낌이었습니다. 특히 배열의 forEach와 reduce 활용에 대한 좋은 코드를 많이 접할 수 있었습니다. 그것뿐만 아니라 어떻게 spread 연산자와 구조분해할당을 이용하여 보기 좋은 함수를 만들 것인가에 대한 생각을 할 수 있는 계기가 되었습니다.

아직 정리하지 못하였지만 유연한 함수를 만들라는 챕터는 정말 제가 모르고 있던 것들을 담고 있었습니다. 부분 적용 함수를 통해 단일 책임 매개변수로 관리하라는 것이 가장 인상깊었습니다. 이 내용과 제가 얼마전에 정리한 함수형 프로그래밍 온보딩에서 합성함수에서 인자가 2개를 받는 문제를 해결한 것이 커링이라 하였습니다. 서로 관련된 내용을 다른 곳에서 얻어서 퍼즐이 합쳐지는 듯한 느낌을 받았습니다.

### 함수형 프로그래밍과 MVC패턴

함수형 프로그래밍과 MVC 패턴에 대해 공부했습니다. 함수형 프로그래밍을 공부하게 된 이유는 제 코드에 부수효과가 너무 많은 것 같다는 생각이 들었습니다. 왜냐하면 forEach 구문이 많았고 해당 메소드는 값을 받아서 수정한다음 반환하는 것이 아니라 클래스의 프로퍼티에 접근하여 수정하는 코드가 많았기 때문입니다. 아무리 해당 클래스의 메소드라 할지라도 프로퍼티를 변경하는 것이 맞을까라는 고민을 많이 했었고 다음 미션에서 더 주의깊게 확인해보고자 공부했습니다.

같은 의미로 MVC 패턴에 대해서도 알아보는 시간을 가졌습니다. 저번 미션에서 너무 많은 시행착오를 겪었던지라 이번 미션은 구현에 많이 힘을 썼습니다. 그래서 모듈을 나누는 것도 과감하게 나눴던 것 같습니다. 로또 게임에는 어떤 주체들이 있을지 고민하고 그 주체마다 기능을 부여하는 식으로 코드를 작성했습니다. 그렇게 작성하다보니 이게 적절한 방식인지, 안티 패턴은 아닌지 궁금해서 찾아본 결과 현재 크루분들도 그렇고 MVC 패턴을 많이 적용하는 것 같았습니다. 이 역시 함수형 프로그래밍과 같이 다음 미션에서 꼭 적용해보고 싶은 사항입니다.

### REGEX

저번 주에 정규표현식을 학습만 한 상태였습니다. 실제로 너무 유용하게 미션에서 사용하고 있어서 언제 한번은 크루분들에게 기초 지식을 전달하는 포스팅을 하고자 했습니다. 미션에 치여 예상보다 늦게 포스팅하게 되었지만 정규표현식을 접하면서 제가 처음에 어려웠던 부분과 잘 정리되지 않았던 부분을 모아서 스텝별로 지식을 전달했습니다. 다행히 반응이 좋아서, 제가 크루분들게 받은 도움을 갚을 수 있는 좋은 계기가 되었던 것 같습니다.

## 시도한 것들

### 모듈을 최대한 분리하라

airBnB 컨벤션에서도 나오지만 모듈을 많이 분리하는 것이 테스트나 유지보수에 유리하다고 하였습니다. 저번 미션에서는 모듈을 처음 나눴던 터라 모듈을 분리하는 것에 확신이 없었습니다. 하지만 한 주 이렇게 미션을 하고 다른 크루분들이 모듈을 나눈 것을 공부하면서 어떻게 나누면 좋을지에 대해 생각을 해봤습니다. 실제로 크루분들마다 개성 넘치는 각자만의 기준으로 모듈을 나눈 것을 보아 저도 용기를 얻고 제가 생각하기에 체계적이라 여겨지는 방식으로 모듈을 나눴습니다.

모듈을 나눌 때 제 기준은 두 가지 있었습니다. 하나는 주체를 기준으로 나눌 것입니다. OOP의 핵심은 행동이 아니라 주체라는 글을 봤습니다. 이 게임에서 주체들이 누가 있을지에 대해 고민하고 그에 따라 기능을 나누었습니다. 때로는 한번에 처리하면 될 것을 서로 다른 모듈에게 전달하는 것이 비효율적이진 않을까? 너무 불필요한 의존성이 생긴 것은 아닐까 싶었습니다. 하지만 제게 두 번째 기준이 있었습니다. 이제 갓 배운 초보이니 두려워하지말고 막 해보는 것입니다. 때문에 정답을 찾기보다는, 최대한 주체별로 나누는 것에 집중하고 차후에 미션이 종료후에 크루분들과 피어리뷰를 하면서 문제가 생긴다면 그 때 다시 생각하자고 결심했습니다.

### 최대한 상수 선언

저번 주에 열심히 한다고 했는데 피어 리뷰 때 한 크루 분이 상수 선언을 더 잘해주었으면 좋겠다는 말씀을 해주었습니다. 그래서 숫자를 직접적으로 적은 부분이 없게끔 하였습니다. 의미가 있는 숫자는 모두 상수 선언을 하여 의미를 정확하게 전달하도록 하였습니다.

또한 정규표현식에 대해 크루분들하고 이야기 나누면서 때로는 현업에서 정규표현식이 복잡할 경우 팀원들이 알아볼 수 없는 경우가 있다는 내용이 나왔습니다. 검색 해보니 정규표현식에는 주석을 달아주는 것이 좋다고 하여 주석을 달아 주었습니다.

마지막으로 상수는 변하면 안되기 때문에 그 점을 고려하여 Object.freeze()를 해주었습니다. 혹시나 객체의 깊이가 깊어질 경우를 대비하여 깊은 freeze 코드를 helper 코드에 입력하여 사용하였습니다.

## 배울 것들

### Jest

jest에 대한 기본 문법을 공부하고 여러가지 적용을 해보는데 readLine에 있는 코드는 어떻게 검사를 해야할지 감이 잡히지 않습니다. 예시처럼 class의 인스턴스마다 기능이 나눠져있다면 lotto 클래스처럼 하나씩 검사를 하겠지만 제가 짠 코드는 결과값을 다른 클래스에 계속 넘겨주는 방식이기 때문입니다. 그러면서 동시에 이렇게 짜는 것이 잘못되었기 때문에 검사하기가 힘든 것인가? 라는 생각도 들었습니다.

실제로 코드를 작성할 때 테스트하기 좋은 코드를 작성해야한다는 글을 많이 봤는데 거기에 어긋나는 코드를 지금껏 작성하고 있던 것은 아닐지 생각이 듭니다. 그게 아니라면 아직 jest에 대한 학습이 부족한 것일 수도 있습니다. 사실 이번 미션에서 피드백으로 작은 단위부터 테스트를 하면서 테스트의 필요성을 느끼는 것이 주였습니다. 저번주에 제가 구현에 많은 시행착오를 겪은 탓에 제 걸음대로 테스트보다는 구현에 집중하다보니 생긴 문제인 것 같습니다. 다음 미션에서는 구현보다는 어떻게 테스트를 할 것이고 테스트에 중점을 둔 모듈 구성에 힘을 써야할 것 같습니다.

### 리팩터링

다음 주차에서 읽을 책으로 리팩터링을 읽으려고 합니다. 내용도 쉽지 않고 코드양이 많아 한 주만에 읽는 것은 힘들어보이지만 정말 도움이 많이 될 것 같습니다. 왜냐하면 미션에서 계속 하는 것이 리팩터링이기 때문입니다. 나쁜 코드를 계속 수정하고 때로는 모듈을 분리하고 같은 코드가 있으면 한 데 묶는 것의 연속입니다. 책이 좋은 점이 경험이 많은 분의 생각이 담겨져 있기 때문에 리팩터링에 대한 혜안을 얻어갈 수 있었으면 좋겠습니다.
