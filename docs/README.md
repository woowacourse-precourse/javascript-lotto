# 로또

## 기능 구현 목록

1. 구입 금액을 입력받습니다. 금액은 1000원 단위로 입력받아야합니다.

2. 만약 금액이 1000원 단위로 입력이 되지 않았을 경우, throw문을 통해 예외를 발생합니다.

3. 입력받은 금액이 유효하다면, 반복문을 통해 구매 가능한 로또의 수 만큼 중복되지 않는 무작위의 6자리의 값을 배열에 저장합니다.

4. 구매 내역을 출력합니다.

5. 당첨번호를 입력받습니다.

6. 만약 당첨번호가 유효하지 않은 경우, throw문을 통해 예외를 발생시킵니다.

7. 보너스 번호를 입력받습니다.

8. 만약 보너스 번호가 유효하지 않은 경우, throw문을 통해 예외를 발생시킵니다.

9. 당첨 통계를 출력하기 위해 입력값과 배열의 로또 구매 내역을 비교하여 수 일치를 확인합니다.

10. 만약 5개가 일치한다면, 나머지 1개의 수가 보너스 숫자와 일치하는지 확인합니다.

11. 구매한 각 로또마다 몇개의 변호가 맞았는지 확인했다면, 당첨 통계를 저장할 수 있는 객체를 만들어 값을 업데이트 해줍니다.

12. 당첨 통계를 출력합니다.

13. 수익률을 계산하여 출력합니다.

## 예외 사항

1. 구입 금액에 대한 예외 사항이 필요합니다.
- 구입 금액은 1000원 단위여야 합니다.
- 구입 금액은 음수가 될 수 없습니다.
- 0원을 입력했다면 1000원 단위이기는 하나, 구입하지 않았으므로 예외를 발생합니다.

2. 구매한 로또 번호에 대한 예외사항이 필요합니다.
- 로또 번호는 숫자 배열로 출력되어야 합니다.
- 로또 번호 배열에는 중복되는 수가 존재하면 안됩니다.
- 로또 번호 배열에는 1부터 45까지의 자연수만 들어올 수 있습니다.

3. 사용자 입력을 받는 당첨 번호에 대한 예외사항이 필요합니다.
- 입력은 숫자와 콤마(,)로 이루어져야 합니다.
- 콤마 사이의 숫자는 1부터 45까지의 자연수여야 합니다.
- 입력은 6개의 중복되지 않는 수로 구성되어야 합니다.

4. 사용자 입력을 받는 보너스 번호에 대한 예외사항이 필요합니다.
- 보너스 번호는 1부터 45까지의 자연수여야 합니다.
- 보너스 번호는 당첨 번호와 중복될 수 없습니다.

## 기능 목록
- App
로또 게임 기능을 시작부터 끝까지 담당하는 클래스입니다. 또한, 사용자에게 입력값으로 받아야하는 값들을 받아주는 메서드들이 포함되어 있습니다.
  - constructor
    - 로또 게임에 필요한 정보들을 객체로 관리하였습니다. 객체의 요소들은 초기화가 필요한 요소들이 생성자 메서드에 포함되어 있습니다.

  - play
    - 로또 게임을 시작하는 메서드입니다. 또한, 구입 금액에 대한 입력값을 사용자로부터 받습니다.
    - 구입 금액에 대한 유효성을 판단하기 위해 InputMoney 클래스를 선언해준 후, 입력값을 초기값으로 설정합니다.
    - 만약 유효하지 않은 입력값이라면, 클래스 생성자에 의해 에러가 발생합니다.
    - 유효성 판단이 끝나면, buyLottos 메서드를 호줄해줍니다.

  - buyLottos
    - 로또를 멏 장 구매해야 하는지 저장하는 변수를 만들어 줍니다.
    - 로또를 구매할 수 있는 BuyLotto 클래스를 선언해준 뒤, lottoInfo 객체에 클래스를 저장합니다.
    - 로또를 구매했다면 inputWinningNumbers 메서드를 호출해줍니다.

  - inputWinningNumbers
    - 로또 당첨 번호를 입력받는 메서드입니다. 입력을 받았다면, 배열로 만들어 lottoInfo 객체에 저장해줍니다.
    - 당첨 번호의 유효성을 판단하는 Lotto 클래스를 선언해준 뒤, lottoInfo 객체에 클래스를 저장합니다.
    - Lotto 클래스의 validate 메서드를 호출해 유효성을 판단하고, 유효하지 않은 경우 에러를 발생합니다.
    - Lotto 클래스의 getWinningNumbers를 호출해 유효성 검증이 끝난 winningNumbers를 반환받습니다.
    - 유효성 판단이 끝나면, inputBonusNumber 메서드를 호출해줍니다.

  - inputBonusNumber
    - 보너스 번호를 입력받는 메서드입니다. 입력을 받았다면, 배열로 만들어 lottoInfo 객체에 저장해줍니다.
    - 선언해준 Lotto클래스의 validateBonusNumber 메서드를 통해 유효성을 검사합니다.
    - 모든 입력값들이 유효하다면, 당첨 통계를 출력하기 위한 GetStat클래스를 lottoInfo객체를 초기값으로 설정하여 선언하고, calculate메서드를 호출합니다.
    - 통계가 출력되었다면 콘솔을 닫고 프로그램을 종료합니다.

- InputMoney
  - constructor
    - 생성자로 입력값을 받고, 입력값 검사를 위한 Utils 클래스와 validate 메서드를 호출합니다.

  - validate
    - 입력값의 유효성을 검사하는 validateMoney 메소드를 호출하고, false를 반환받으면 에러를 발생시킵니다.
  
  - validateMoney
    - 빈 문자열인지 검사합니다.
    - 숫자인지 검사합니다.
    - 1000단위인지 검사합니다.
    - 양수인지 검사합니다.

- BuyLotto
  - constructor
    - 로또 구매 수량을 입력값으로 받고, 로또를 담기위한 배열을 만들어줍니다.
    - 로또를 생성하기 위해 Utils 클래스를 선언합니다.
    - buyLotto 메소드를 호출합니다.

  - buyLotto
    - 로또 구매 수량을 출력합니다.
    - #printLottoList 메서드를 호출합니다.
  
  - #printLottoList
    - utils 클래스의 randomSelectWithoutOverlap 메서드를 통해 랜덤한 6개의 수를 가진 배열을 생성합니다.
    - 생성된 배열을 출력한 뒤, lottoArray 배열에 담아줍니다.

  - getLottoArray
    - 이 메서드가 호출되면 생성한 lottoArray를 반환합니다.

- Lotto
  - constructor
    - 유효성을 검증하기 위해 Utils 클래스를 선언합니다.
    - 메서드 내부에서 사용할 #numbers를 선언합니다.

  - validate
    - #numbers의 유효성을 검사합니다.
  
  - validateNumbersLength
    - #numbers의 길이가 6이 아니라면 예외를 발생시킵니다.

  - isOverlapNumbers
    - #numbers의 중복을 검사하고, 중복인 요소가 있다면 예외를 발생시킵니다.

  - validateEachLottoNumber
    - 긱 요소가 로또 번호에 적합한지 검사하고, 적합하지 않은 요소가 있다면 예외를 발생시킵니다.

  - validateBonusNumber
    - 보너스번호가 로또 번호에 적합한지 검사하고, 적합하지 않다면 예외를 발생시킵니다.
    - 보너스 번호가 로또 번호에 포함된다면, 예외를 발생시킵니다.

  - getWinningNumbers
    - 유효성 검사가 끝난 #numbers를 반환합니다.

- GetStat
  - constructor
    - 클래스의 내부 메서드를 호출합니다.

  - calculate
    - '당첨 통계' 메세지를 출력하고, buyLotto클래스의 getLottoArray메서드를 통해 로또 배열을 반환받습니다.
  
  - calculateLottoArray
    - 로또 배열에 담긴 로또 번호를 하나씩 계산하면서 당첨 여부를 확인합니다.

  - initalizeLottoInfoProperty
    - 로또 당첨 번호 당 당첨 수를 체크하는 numberOfCorrectNumbers 인자를 0으로 초기화합니다.

  - countCorrectNumbers
    - 구매한 로또가 당첨 번호에 포함되어있는지 확인하고, numberOfCorrectNumbers 인자를 번호가 포함된 수 만큼 더해줍니다.

  - isSecondPrizeWin
    - 만약 당첨번호가 5개가 포함되어있고, 보너스 번호가 포함된다면, numbersOfCorrectNumbers인자를 2 더해줍니다.

  - countWinning
    - numberOfCorrectNumbers 인자의 값에 따른 당첨 등수를 구분해줍니다.

  - printStat
    - 당첨 수를 출력합니다.
  
  - printRate
    - 수익률을 출력합니다.

## 기능 단위 테스트

- ApplicationTest
  - 기능테스트를 수행합니다.
  - 예외 테스트를 수행합니다.

- BuyLottoTest
  - 클래스를 통해 반환하는 배열이 적절한 배열인지 검사합니다.

- InputMoneyTest
  - 구입 금액의 입력값이 숫자가 아닐경우 예외가 발생하는지 검사합니다.
  - 입력값이 음수인 경우 예외가 발생하는지 검사합니다.
  - 입력값이 자연수가 아닌 경우 예외가 발생하는지 검사합니다.
  - 입력값이 1000원 단위가 아닌 경우 예외가 발생하는지 검사합니다.

- LottoTest
  - 입력받은 로또 번호의 갯수가 6개가 넘어가면 예외가 발생하는지 검사합니다.
  - 로또 번호의 갯수가 6개 미만일 경우 예외가 발생하는지 검사합니다.
  - 로또 번호에 중복된 숫자가 있으면 예외가 발생하는지 검사합니다.
  - 로또 번호에 문자가 포함된다면 예외가 발생하는지 검사합니다.
  - 로또 번호에 적절하지 않은 숫자가 있으면 예외가 발생하는지 검사합니다.
  - 보너스 번호가 적절하지 않으면 예외가 발생하는지 검사합니다.
  - 보너스 번호가 로또 번호에 포함된다면 예외가 발생하는지 검사합니다.

- UtilsTest
  - 유효성을 판단하기 위해 true / false를 반환하는 메서드들을 테스트합니다.

  - isBlank
    - 빈 문자열인지 아닌지 판단합니다.

  - isNumber
    - 입력값이 숫자로 구성되어있는지 확인합니다.

  - isThousandUnit
    - 입력값이 1000으로 나누어지는지 확인합니다.

  - isPositive
    - 입력값이 양수인지 확인합니다.

  - isNaturalNumber
    - 입력값이 자연수인지 확인합니다.
  
  - randomSelectWithoutOverlap
    - 길이가 6인 1부터 45까지 자연수 중 무작위로 선택된 수의 배열이 오름차순 정렬되어 반환되는지 확인합니다.

## PR 전 체크사항

- [x] README.md에 구현할 기능 목록을 정리해서 추가했는가
- [x] 코딩 컨벤션을 지키며 프로그램을 구현했는가
- [x] 들여쓰기를 2 spaces로 구현했는가
- [x] indent는 2까지만 사용했는가
- [x] process.exit()를 호출하지 않았는가
- [x] 비정상적 입력에 대해서는 throw로 예외를 발생시켰는가
- [x] jest를 이용하여 입력과 진행에 대한 테스트를 충분히 수행하였는가
- [x] Random 및 Console API를 사용하여 구현했는가
- [x] 프로그래밍 요구 사항을 모두 따랐는가
- [x] PR을 보내고 과제를 제출했는가