# 🚀 소개

- 위 문서는 기능 구현 목록과 로또를 구현하기 위한 객체 설계도를 작성한 문서입니다.
- 개발을 진행하면서 기능 구현 목록과 객체를 어떻게 설계하고 수정했는지 전체적인 과정을 다 작성하였습니다.

# 🌈 목표

- [x] `TDD`방식을 적용, `기능 구현목록 작성 -> 객체 설계 구현 -> 테스트 코드 작성 -> 기능 구현 -> 테스트` 순으로 작업하려고 노력하였습니다.
- [x] 객체를 분리하고 객체 설계 시 `다양한 패턴`들과 `객체 지향 원칙`을 지키려고 노력했습니다.

# 📌 최종 기능 구현 목록

- [x] 돈을 입력하면 해당 돈 만큼의 로또 결과값 만들기 (LottoStore)

  - [x] 돈이 1000원으로 나누어지는가?
  - [x] 구입한 돈 만큼의 로또 개수 구하기
  - [x] 개수만큼 6자리 랜덤 로또 만들기
  - [x] 개수만큼 만든 6자리 랜덤 로또 출력

- [x] 당첨 번호 6자리 입력 (Lotto)

  - [x] 당청 번호 6자리 값 리턴
  - [x] 각 번호가 1 ~ 45인가?
  - [x] 번호는 6개인가?
  - [x] 중복이 존재하는가?

- [x] 보너스 번호 1자리 입력 (Bonus)

  - [x] 보너스 번호 1자리 값 리턴
  - [x] 각 번호는 1 ~ 45인가?

- [x] 보너스 + Lotto (LottoDrawFactory)

  - [x] 보너스 + 로또 숫자가 서로 중복인지 확인

- [x] 당첨 번호 + 보너스 번호와 내가 산 로또를 비교, 결과값 출력 (LottoAdjustment)

  - [x] 당첨 번호 + 보너스 번호와 내가 산 로또를 비교 (1 ~ 5등인지 결과값 나타내기)
  - [x] 1 ~ 5등 결과값을 정해진 형식에 맞춰서 출력

- [x] 입력 기능 구현 (App)
  - [x] 로또 구입 금액 입력
  - [x] 로또 추첨 (6자리 입력)
  - [x] 로또 추첨 (보너스 번호 입력)

# 📌 최종 객체 설계 그림

<img width="800px" alt="스크린샷 2022-11-14 20 08 21" src="https://user-images.githubusercontent.com/78203399/201645380-b2846080-c9c1-4038-b702-586df7d2eab2.png" />

---

# 📌 아래 내용 설명

제가 기능 구현 목록과 객체 설계를 한 과정을 아래 파일에 자세하게 담았습니다.

## 1차 설계

> 구현 시작 전 제일 먼저 순서도를 그려보고 그에 맞는 기능 목록 구현, 객체 설계를 먼저 해보았습니다.

## 순서도

<img width="638" alt="스크린샷 2022-11-14 12 06 43" src="https://user-images.githubusercontent.com/78203399/201566994-f0d9d215-4bc7-4f02-ad6f-35fb84e33b00.png">

## 첫번째 기능 목록 구현

- 돈을 입력하면 해당 돈 만큼의 로또 출력하기

  - 돈이 1000원으로 나누어지는가?
  - 구입한 돈 만큼의 로또 개수 구하기
  - 개수만큼 6자리 랜덤 로또 만들기

- 당첨 번호 6자리 입력(Lotto)

  - 각 번호가 1 ~ 45인가?
  - 번호는 6개인가?
  - 중복이 존재하는가?

- 보너스 번호 1자리 입력

  - 각 번호는 1 ~ 45인가?

- 당첨 번호 + 보너스 번호와 내가 산 로또를 비교, 결과값 출력

  - 당첨 번호 + 보너스 번호와 내가 산 로또를 비교 (1 ~ 5등인지 결과값 나타내기)
  - 1 ~ 5등 결과값을 정해진 형식에 맞춰서 출력

## 첫번째 객체 설계

> 각 기능에 맞게 객체를 설계를 하려고 노력했습니다. 정해진 파일 형식에 따라서 객체를 설계하는데 많은 어려움이 있었습니다.

<img width = "500px" src = "https://user-images.githubusercontent.com/78203399/200994211-ba6939a6-0b10-42f3-b304-b5e53c0fd1bd.jpeg" />

---

## 두번째 기능 목록 구현 (1차 수정)

> Lotto 클래스와 보너스 번호 기능에 에러를 다 통과하고 나온 결과값을 도출하는 기능이 없어서 추가

- 돈을 입력하면 해당 돈 만큼의 로또 결과값 만들기 (LottoStore)

  - 돈이 1000원으로 나누어지는가?
  - 구입한 돈 만큼의 로또 개수 구하기
  - 개수만큼 6자리 랜덤 로또 만들기

- 당첨 번호 6자리 입력 (Lotto)

  - 당청 번호 6자리 값 리턴
  - 각 번호가 1 ~ 45인가?
  - 번호는 6개인가?
  - 중복이 존재하는가?

- 보너스 번호 1자리 입력 (Bonus)

  - 보너스 번호 1자리 값 리턴
  - 각 번호는 1 ~ 45인가?

- 당첨 번호 + 보너스 번호와 내가 산 로또를 비교, 결과값 출력

  - 당첨 번호 + 보너스 번호와 내가 산 로또를 비교 (1 ~ 5등인지 결과값 나타내기)
  - 1 ~ 5등 결과값을 정해진 형식에 맞춰서 출력

## 두번째 객체 설계 (1차 수정)

> 각 클래스에 부여한 기능들을 조금 다르게 구성 - 네이밍을 변경

<img width = "500px" src = "https://user-images.githubusercontent.com/78203399/201235696-796a7e41-3e11-4532-9bfb-5e7cb60a83dc.jpeg" />

## 세번째 기능 구현 목록 (2차 수정)

> 로또 숫자 6개와 보너스 숫자가 서로 다른 번호임을 확인하는 로직을 추가

- 돈을 입력하면 해당 돈 만큼의 로또 결과값 만들기 (LottoStore)

  - 돈이 1000원으로 나누어지는가?
  - 구입한 돈 만큼의 로또 개수 구하기
  - 개수만큼 6자리 랜덤 로또 만들기

- 당첨 번호 6자리 입력 (Lotto)

  - 당청 번호 6자리 값 리턴
  - 각 번호가 1 ~ 45인가?
  - 번호는 6개인가?
  - 중복이 존재하는가?

- 보너스 번호 1자리 입력 (Bonus)

  - 보너스 번호 1자리 값 리턴
  - 각 번호는 1 ~ 45인가?

- 보너스 + Lotto (LottoDrawFactory)

  - 보너스 + 로또 숫자가 서로 중복인지 확인

- 당첨 번호 + 보너스 번호와 내가 산 로또를 비교, 결과값 출력

  - 당첨 번호 + 보너스 번호와 내가 산 로또를 비교 (1 ~ 5등인지 결과값 나타내기)
  - 1 ~ 5등 결과값을 정해진 형식에 맞춰서 출력

## 최종 - 네번째 기능 구현 목록 (3차 수정)

> 로또 숫자 6개와 보너스 숫자가 서로 다른 번호임을 확인하는 로직을 추가

- [x] 돈을 입력하면 해당 돈 만큼의 로또 결과값 만들기 (LottoStore)

  - [x] 돈이 1000원으로 나누어지는가?
  - [x] 구입한 돈 만큼의 로또 개수 구하기
  - [x] 개수만큼 6자리 랜덤 로또 만들기
  - [x] 개수만큼 만든 6자리 랜덤 로또 출력

- [x] 당첨 번호 6자리 입력 (Lotto)

  - [x] 당청 번호 6자리 값 리턴
  - [x] 각 번호가 1 ~ 45인가?
  - [x] 번호는 6개인가?
  - [x] 중복이 존재하는가?

- [x] 보너스 번호 1자리 입력 (Bonus)

  - [x] 보너스 번호 1자리 값 리턴
  - [x] 각 번호는 1 ~ 45인가?

- [x] 보너스 + Lotto (LottoDrawFactory)

  - [x] 보너스 + 로또 숫자가 서로 중복인지 확인

- [x] 당첨 번호 + 보너스 번호와 내가 산 로또를 비교, 결과값 출력 (LottoAdjustment) -> (LottoIncome, LottoWinCount로 분리)

  - [x] 당첨 번호 + 보너스 번호와 내가 산 로또를 비교 (1 ~ 5등인지 결과값 나타내기)
  - [x] 1 ~ 5등 결과값을 정해진 형식에 맞춰서 출력

- [x] 입력 기능 구현 (App)
  - [x] 로또 구입 금액 입력
  - [x] 로또 추첨 (6자리 입력)
  - [x] 로또 추첨 (보너스 번호 입력)

**위의 설계와 기능 구현목록으르 전체 기능을 구현 완료했습니다!!**

---

## 리팩토링

### 1. 세 번째 객체 설계 (2차 수정)

- DI, IOC, DIP에 대한 내용을 자세히 학습 후 제 설계부분에서 상위 모듈과 하위모듈이 서로 의존하고 있다고 판단하여 설계를 전면 수정하였습니댜.
- 상위 모듈과 하위 모듈의 의존성을 해제하는 대신 두 모듈 사이 추상화 객체(팩토리 메서드 패턴)를 생성하여 의존성을 분리하였습니다.

<img width = "500px" src = https://user-images.githubusercontent.com/78203399/201493466-1153021e-0f09-4fab-858a-4cf2551df215.jpeg />

### 2. 네 번째 객체 설계 (3차 수정)

- 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.

<img width="800px" alt="스크린샷 2022-11-14 13 35 57" src="https://user-images.githubusercontent.com/78203399/201578664-08deb7b3-1512-42a1-a113-3d3f1f1a52da.png">

### 3. 다섯 번째 객체 설계 (4차 수정)

- LottoAdjustment 클래스에 개수, 수익률이라는 여러가지 책임을 부여, 이를 분리하는 객체 설계 구현

<img width="800px" alt="스크린샷 2022-11-14 20 08 21" src="https://user-images.githubusercontent.com/78203399/201645380-b2846080-c9c1-4038-b702-586df7d2eab2.png" />
