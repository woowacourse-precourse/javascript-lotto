# 🎱 로또 구현 기능 목록

- [x] `구입금액을 입력해 주세요.`라는 문구로 로또 구입 입력을 입력 받는다.
  - [x] 1,000원 단위가 아닐 경우 `[ERROR] 1,000원 단위로 입력해 주세요.` 문구를 출력한 뒤 예외 처리한다.
- [x] `n개를 구매했습니다.` 라는 문구와 함께 (입력 받은 수 / 1,000)번의 랜덤 로또 번호 배열이 출력된다.
  - [x] 출력되는 배열은 오름차순으로 정렬되어 있다.
- [x] `당첨 번호를 입력해 주세요.` 문구와 함께 사용자에게 쉼표로 구분된 숫자 6자리를 입력받는다.
  - [x] 6자리가 아닐 경우 `[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.`라는 문구를 출력한 뒤 예외 처리한다.
  - [x] 로또 번호와 중복되어 있을 경우 `[ERROR] 로또 번호는 중복될 수 없습니다.`라는 문구와 함께 예외 처리한다.
- [x] `보너스 번호를 입력해 주세요.`라는 문구와 함께 숫자 한 자리를 입력받는다.
  - [x] 숫자 한 자리가 아닐 경우 `[ERROR] 보너스 번호 1자리를 입력해 주세요.`라는 문구를 출력한 뒤 예외 처리한다.
  - [x] 로또 번호와 중복되어 있을 경우 `[ERROR] 로또 번호는 중복될 수 없습니다.`라는 문구와 함께 예외 처리한다.
- [x] `당첨 통계`를 출력한다.
  - [x] 랜덤으로 생성된 로또와 사용자가 입력한 번호가 3개 이상 일치한 횟수를 계산한다.
  - [x] 횟수로 당첨금을 계산한다.
  - [x] 랜덤으로 생성된 로또 숫자 배열과 입력된 배열을 비교해 수익률을 계산한다.
    - [x] 수익률 계산 : (번 돈 \* 100) / 투자한 돈
    - [x] 소수점 둘째 자리에서 반올림한다.

## 리팩토링

- [x] utils로 분리할 수 있는 메소드 분리하기
  - [x] 소수점 둘째 자리에서 반올림하는 함수
  - [x] 랜덤 숫자 생성하는 함수
    - 해당 함수 내부에서 사용되는 Lotto의 range 값이나 로또 최대 개수 등을 사용하기 위해 `Lotto` 에서만 사용되는 값을 constant로 분리하기엔 더 복잡해지는 것 같았습니다. 그렇기에 분리하지 않고 기존 그대로 유지하도록 하였습니다.
    - `Store`가 많은 책임을 갖고 있기에 `LotteryMachine`을 추가하여 로또 생성과 관련된 책임을 관리하도록 하였습니다. 그러므로 랜덤으로 n개의 로또를 생성하는 함수는 `LotteryMachine`에 담고, Random 숫자를 생성하는 함수는 utils로 분리하였습니다.
  - [x] `랜덤 통계` 문구 출력 함수

## 테스트

### 기능 확인

- [x] 3개 일치 개수 및 수익률 확인
- [x] 4개 일치 개수 및 수익률 확인
- [x] 5개 일치 개수 및 수익률 확인
- [x] 5개 + 보너스 볼 일치 개수 및 수익률 확인
- [x] 6개 일치 개수 및 수익률 확인

### 예외 상황 확인

#### 구입금액을 입력해 주세요.

- [x] 사용자가 입력하지 않을 경우
- [x] 사용자가 숫자가 아닌 다른 문자가 포함된 금액을 입력할 경우
- [x] 사용자가 1,000으로 나눠지는 숫자가 아닌 다른 숫자를 입력할 경우

#### 당첨 번호를 입력해 주세요.

- [x] 사용자가 입력하지 않을 경우
- [x] 사용자가 로또 번호 구분자를 ','로 하지 않았을 경우
- [x] 사용자가 로또 번호를 6개 초과 입력할 경우
- [x] 사용자가 로또 번호를 6개 미만 입력할 경우
- [x] 사용자가 이상한 문자와 함께 로또 번호를 입력할 경우
- [x] 사용자가 중복된 숫자를 입력할 경우
- [x] 사용자가 1 ~ 45의 숫자가 아닌 다른 숫자를 입력할 경우
  - find를 사용하였으므로 처음으로 발견되는 숫자가 0인 경우 if를 지나치게 됩니다. `!== undefined`로 체크하도록 변경하였습니다.

#### 보너스 번호를 입력해 주세요.

- [x] 사용자가 입력하지 않을 경우
- [x] 1 ~ 45의 숫자가 아닌 다른 숫자를 입력할 경우
- [x] 로또 당첨 번호와 중복되는 보너스 번호를 입력할 경우

### 부하 상황 확인

- [x] 6개 일치하는 상황이 100번 발생할 경우
  - `BigInt` 로 숫자 계산을 변경해야 하나 고민하였으나 나누기 연산이 먼저 일어나기에 `Number`로도 충분할 것이란 생각이 들었습니다.
