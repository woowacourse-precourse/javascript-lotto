# 🎰 로또

## 기능 목록

1. 사용자에게 로또를 구매할 금액을 입력받는다.
2. 구매할 금액이 올바르게 입력되었다면 금액을 1000으로 나눠서 로또를 몇 게임 구매 가능한지 구한다.
3. 중복이 없는 6개의 숫자를 가진 로또 게임을 반환하는 함수를 생성한다.
4. 몇 게임 구매 가능한지 구했다면 3의 함수를 이용해서 그 수 만큼의 로또 게임을 생성한다. + 로또를 오름차순으로 정렬한다.
5. 생성된 자동 로또 게임들을 모두 출력한다.
6. 사용자에게 당첨 번호를 입력받는다.
7. 문자열로 입력된 당첨 번호를 (,)를 기준으로 나눠서 배열로 만들고 동시에 원소들을 정수형으로 바꾼다.
8. 사용자에게 보너스 번호를 입력받는다.
9. 자동 로또 게임의 번호들을 순회하면서 당첨 번호의 배열에 포함되어 있는지 확인한다.
10. 생성된 자동 로또 게임들의 배열을 순회하면서 9의 함수를 수행하고 5등부터 1등까지 각각 당첨된 수를 계산한다.
11. 5등부터 1등까지 몇 개 당첨되었는지 출력한다.
12. 당첨 결과를 통해 수익을 구하고 수익을 구매 금액으로 나눠서 수익률을 계산한다.
13. 수익률을 출력한다.

## Programming Plan

이번 미션에서 추가된 요구 사항 중 else를 지양한다는 부분을 충족시키기 위해서 값을 다루는 함수들이 return으로 종료될 수 있게 만들어야 겠다고 생각을 했다.
이번에는 값을 객체의 프로퍼티로 가지고 있으면서 그것을 다루기보다 값을 반환하게 하고 콜백함수를 인자로 받아서 수행하는 방식으로 할 계획이다.  
그리고 이 방식이 도메인 로직에 대한 테스트 코드 작성에 더 용이할 것이라고 생각한다.  
그리고 UI로직과 도메인 로직을 나누는 데에도 더 용이할 것이라고 생각한다.  
하지만 당첨 횟수를 매 게임마다 5등부터 1등까지 확인하고 출력하는 함수를 수행시키는 것은 오히려 불필요한 연산의 반복인 것 같고 당첨 횟수를 프로퍼티로 가지는 것이 당첨 결과 출력과 최종 수익 계산에 더 좋을 것 같기 때문에 한 방향으로 치우치지 않게 적절히 조절하는 것이 좋을 것 같다.  
Lotto 클래스의 numbers 프로퍼티는 private 프로퍼티이기 때문에 Lotto 클래스 내에서 당첨 번호를 다루는 메소드로 프로그램을 구성해야하는 것 같다.  
고민이 가장 많이 되었던 부분은 input을 받는 API의 콜백함수 내에서 프로그램의 로직이 수행되어야 하는데 이것이 하나의 input에 모든 함수의 수행이 들어가는 것이 보기 좋지 않고 해당 input 함수의 의미가 명확해지지 않는 것 같은 부분이었다.  
이것을 input 함수에 로직의 수행을 담은 하나의 콜백함수를 전달해서 실행하는 것으로 해결이 가능하지 않을까 생각한다.
우선 이전 주차에 했던 대로 함수의 의미를 가질 수 있는 객체를 만들어서 나눈다.

### 예시

```javascript
const MissionUtils = require("@woowacourse/mission-utils");

const getInput = (getNumber, returnArray, printArray) => {
  MissionUtils.Console.readLine("얼마", (budget) => {
    printArray(returnArray(getNumber(budget)));
  });
};

const getNumber = (budget) => {
  return Math.floor(budget / 1000);
};

const returnArray = (number) => {
  const array = [];
  for (let i = 0; i < number; i++) {
    array.push(MissionUtils.Random.pickUniqueNumbersInRange(1, 45, 6));
  }
  return array;
};

const printArray = (array) => {
  array.forEach((elm) => {
    MissionUtils.Console.print(elm);
  });
};

getInput(getNumber, returnArray, printArray);
```

## 예외 처리

1. 구매 금액에 숫자가 아닌 다른 문자가 들어올 수 없다.
2. 구매 금액은 1000으로 나눌 수 있는 숫자여야한다.
3. 당첨 번호는 6개의 숫자여야 한다.
4. 보너스 번호는 당첨 번호와 같을 수 없다.
5. 보너스 번호는 1부터 45까지의 숫자여야한다.
