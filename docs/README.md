# 요구 사항 정리

1. 프로그램 시작 시, 로또 구입 금액을 입력받는다.

- 한 장에 1,000원이며, 1,000원으로 나누어 떨어지지 않으면 예외 처리한다.

2. 로또 구매 로직 처리하기

- 로또 구매 개수 저장하기
- 중복되지 않는 6자리 숫자의 로또를 개수만큼 발행한다. (Random.pickUniqueNumbersInRange())
- 발행한 로또를 출력한다.

3. 당첨 번호를 입력받는다. (ex) 1,2,3,4,5,6

- 당첨번호 예외 처리 사항
  - 콤마(,) 단위로 구분이 되는 6자리 숫자를 포함한 문자열이 아닌 경우
  - 숫자가 중복되는 경우
  - 하나라도 숫자가 아닌 경우

4. 보너스 번호를 입력 받는다. (정수 1자리)

- 보너스 번호 예외 처리 사항
  - 1 ~ 45 사이의 숫자가 아닌 경우
  - 숫자가 아닌 경우
  - 당첨 번호와 중복되는 경우

5. 로또 당첨 로직 처리하기 (당첨 통계)

- 먼저, 각 발행 로또의 번호와 당첨 번호를 비교하고, 일치하는 숫자 개수를 검사한다.
- 보너스 번호가 있는지 확인한다. 보너스 번호 일치 여부도 검사한다.
- 로또 당첨 규칙에 맞춰, 순위를 부여한다.
- 당첨 내역을 출력 규칙에 맞게 출력한다.
- 당첨금액을 합산하여 저장한다.

6. 당첨금액과 구매금액으로 수익률을 구한다.

- 당첨금액/구매금액 x 100 = 수익률(%)
- 이 때, 수익률은 소수점 둘째자리에서 반올림한다.

# 기능 목록 작성

- [x] 구입 금액 입력받기
- [x] 구입 금액 유효성 검증하기 (올바르다면 pass, 잘못됐다면 Error 출력)
- [x] 구입 개수만큼 로또 번호 발행하기 (MissionUtils 활용)
- [x] 발행한 로또 출력하기
- [x] 당첨 번호 입력받기
- [x] 당첨 번호 유효성 검증하기 (올바르다면 pass, 잘못됐다면 Error 출력)
- [x] 보너스 번호 입력받기
- [x] 보너스 번호 유효성 검증하기 (올바르다면 pass, 잘못됐다면 Error 출력)
- [x] 각 로또의 당첨 여부 확인하기 (당첨 번호 비교, 보너스 번호 비교)
- [x] 당첨금 계산(합산)하기
- [x] 수익률 계산하여 출력하기
- [x] 수익률 숫자표기 포맷팅하기
- [x] 상황에 맞는 테스트 코드 작성하기 (아래 상황 목록 모두 충족하면 확인 표시 할 것)
- [x] 정상 테스트 - 수익률이 중간값(0%~100%) 사이인 경우
- [x] 정상 테스트 - 수익률이 높은 값(10000% 초과)인 경우
- [x] 정상 테스트 - 수익률이 0%인 경우
- [x] 정상 테스트 - 수익률이 100%인 경우
- [x] 정상 테스트 - 수익률이 소수점 둘째자리에서 반올림한 수 일때 (ex : 50166.666667 -> 50,166.7)
- [x] 정상 테스트 - 5등과 6등 테스트
- [x] 예외 테스트 - 구매금액에 영문 오타가 있을 때
- [x] 예외 테스트 - 구매금액이 1000원 단위가 아닐 때
- [x] 예외 테스트 - 당첨 번호가 숫자가 아닐 때
- [x] 예외 테스트 - 당첨 번호가 6자리가 아닐 때
- [x] 예외 테스트 - 당첨 번호가 1~45 사이의 숫자가 아닐 때
- [x] 예외 테스트 - 보너스 번호가 1~45 사이의 숫자가 아닐 때
- [x] 예외 테스트 - 당첨 번호가 중복될 때
- [x] 예외 테스트 - 발급된 로또의 숫자가 6개가 아닐 때
- [x] 예외 테스트 - 발급된 로또의 숫자가 중복될 때
- [x] 예외 테스트 - 발급된 로또가 하나라도 숫자가 아닐 때

# 느낀 점

> 구현하기 전, 중, 후에 느끼고 배운 점을 기록하였습니다.

- 지난 1, 2주차에서 잘 지키지 못했던 점들에 집중하여 구현하고자 합니다. (커밋 컨벤션, 코드 컨벤션, 기능 단위 커밋)

- Console에서 입력을 받는 함수가 끝나면, 변경된 값으로 다음 함수를 바로 실행시키고자 했지만 비동기 이슈가 발생해서 해결하지 못했습니다. Promise, async/await 학습 후 수정할 필요가 있습니다. (11/14 03:37)

- 함수를 최대한 쪼개서 15줄 이내로 만들고자 노력을 기울였습니다. 하지만 switch 문과 같이 개행을 많이할 수 밖에 없는 구문은 15줄 이내로 작성하기가 힘들었습니다. 그래서 switch 문을 대체할 수 있는 구문으로 수정을 시도하며 모든 함수를 15줄 이내로 작성할 수 있었습니다. 조금 여유를 가지고 생각하면 충분히 단축할 수 있다는 것을 깨달았습니다.

- 비동기 이슈가 해결되지 않아, 현재 함수가 play() 부터 시작하여 연쇄적으로 실행됩니다. play() 내부에서 비동기적으로 따로따로 실행하게 끔 해줘야 할 것 같은데, 사실 이것도 효과적인지 애매합니다. 고민을 더 해봐야 할 것 같다고 생각했습니다.(11.14 17:15)

- (과제 후 느낀 점)이번 주 과제를 처음 시작할 때부터 이번 과제에서는 반드시 커밋 컨벤션과 코드 컨벤션, 그리고 함수 분리에 집중해서 수행하자고 마음 먹었습니다.
  항상 모든 파일을 스테이징 한 뒤에 한번에 커밋, 푸쉬하는 습관이 있었는데, 이것은 형상 관리 측면에서 매우 좋지 않은 습관임을 깨달았습니다. 이번 과제에서는 기능 구현 단위로 파일 별로 커밋/푸쉬 하였습니다.
  눈에 띄는 것은 바로 커밋 수 였습니다. 지난 베이스볼 과제에서 전체 8커밋을 한 것에 비해, 이번에는 43커밋으로 커밋 횟수가 많이 늘어났습니다.
  주석 제거 등의 큰 의미를 가지지 않는 커밋도 많지만, 컨벤션에 맞춰 가지런히 정리된 커밋을 보니 왠지 기분이 좋아졌습니다.
  이번 과제에서 한 가지 아쉬운 점이 있다면, 사용자의 입력을 비동기적으로 처리하지 못해서 한 함수내에 다른 함수를 연달아 포함시키게 되었습니다.
  비동기 파트를 꼼꼼히 공부해야겠다는 생각을 하게되었고, 다음 과제에선 이러한 점을 보완해보고 싶습니다.
