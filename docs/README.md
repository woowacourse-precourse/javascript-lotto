# 프로젝트 설명

## 미션 로또

- 구조 설명

```
LottoGameMainSystem 클래스가 중축이 됩니다.
이 클래스는 input을 받아 그에 맞는 프로세스를 처리합니다.

먼저 input값은 3번 받습니다. 즉 매번 input값을 받을 때마다 사용자들이 알맞은 값을 입력했는지 확인해줘야
그 값들로 로직을 처리하는 기능들이 에러가 발생하지 않기에 input을 체크하는 것은 중요했습니다.
따라서 input값들 즉 player로부터 받은 모든 원시값과 문자열은 Lotto 클래스로 포장해주었습니다.
쉽게말해 Lotto 클래스를 거친다면 조건에 맞는 값이 보장이되기에 input값을 관리하는 것이 훨씬 편해집니다.

input을 받으면 그것을 가지고 알맞은 결과값을 출력하기 전에 처리해야하는 중요한 로직은 util폴더에 따로 분류했습니다.

util폴더를 설명하기에 앞서 여기서는 변수 및 상수들이 많이 사용되기에 lotto-data폴더 안에 변수를 모아두는 파일과 상수를 모아두는 파일을 분류하여 따로 관리했습니다.

util폴더에는 2가지 함수와 1가지 클래스가 존재합니다.
아 방금 글쓰면서 코드를 검토하던중 메서드를 더 쪼개어 1가지 함수가 추가 되었습니다.

1. LottoNumberIssuedFromComputer 클래스
이 클래스는 미션에서 주어진 라이브러리를 통해 플에이어의 지불한 금액에 따라 조건에 맞는  로또를 발행해 줍니다.(조건, 1~45사이 숫자만,중복x, 오름차순 정렬)

return 메소드를 실행하면
1) issueLottoNumbers() - 1~45사이의 랜덤한 숫자를 중복없이 뽑습니다.
2) checkLottoNumbersIssued() - 라이브러리기에 만약 변동이 있으면 내부 로직이 문제가생겨 설계자가 원하는 값이 잘 return되었는지 확인
3) sort() - 문제 조건에 알맞게 오름차순으로 정렬합니다.


2. matchLottoNumberWithWinningNumber 함수
이 함수는 (구매해서)발행된 로또번호와 당첨 번호를 대조하여 몇등이 몇개 당첨되었는지 확인 함수입니다.

이 함수를 실행시키면
1) matchNumbers() - reduce를 통해 발행된 로또 번호와 당첨 번호가 일치하는 숫자만 출력하는 배열을 return
2) checkNumberOfWins() - 발행된 로또와 당첨번호가 일치하는 숫자가 몇개인지 보고 알맞은 등수에  카운트해준다. (이 때는 if문을 사용하면 여러개를 사용해야 하기에 switch문이 더 가독성이 좋다고 판단하여 switch문 사용)
   i) determineWhetherIsSecondOrThird() - 보너스 숫자 일치여부에 따라 2등과 3등을 판별해준다.
   유일하게 삼항연산자를 사용한 곳이다. if문으로만 하는 것 보다 더 가독성이 좋다고 판단하여 삼항연산자 사용


3. calculateRateOfReturn 함수
이 함수는 따로 관리되는 객체( LottoNumber, LottoRanking)를 활용하여 수익률을 계산하는 함수입니다.

이 함수를 실행시키면
1) sum() - 당첨된 등수에 따른 당첨금을 모두 더해줍니다.
2) calculate() - 수익률을 계산해줍니다.
3) RoundSecondDecimalPlace() - 소수점 둘째자리에서 반올림을 해줍니다.
4) saveRateOfReturn() - 해당 수익률을 LottoNumberData에 저장해 둡니다.

추가 4. saveConfirmedInputValueToLottoNumberData 함수
Lotto 클래스를 거쳐 보장된 input값들은 LottoNumberData객체에 넣어줍니다.

이렇게 input값들이 처리가 되면 UI폴더 안에 있는 함수들이 처리된 값들을 출력해 줍니다.

```

## 📑 기능목록

1. 로또 구입 금액을 입력받는다.✅

   - (조건) 구입 금액은 1,000원 단위로 입력받는다.
   - (예외) 1,000원으로 나누어 떨어지지 않는 경우 예외 처리한다.
   - (예외) 숫자이외의 문자가 있거나 혼합되어 있으면 예외 처리한다.
   - 이때 로또 구입 금액은 외부 객체에 따로 보관해둔다.

2. 발행한 로또 수량 및 번호를 출력한다.✅

   - (조건) 로또 번호는 오름차순으로 정렬하여 보여준다.
   - 배열안에 넣고 숫자사이의 공백과 쉼표를 함께사용하여 구분하여준다.
   - 구매 수량을 가장 위에 출력해준다.
   - 발행한 로또 번호 모두 외부 객체에 저장해 따로 관리한다.

3. 당첨 번호를 입력 받는다.✅

   - (조건) 당첨 번호 구분은 쉼표(,)로 한다.
   - (예외) 당첨 번호가 6자리가 아니면 전부 예외 처리한다.
   - (애외) 숫자이외의 문자가 있거나 혼합되어 있으면 예외 처리한다.
   - (예외) 쉼표로 구분이 되어있지 않으면 예외 처리한다.
   - (예외) 6개의 모든 숫자중 중복이 있으면 예외 처리한다.
   - (예외) 당첨 번호 6개모두 1~45사이의 숫자이어야 한다.
   - 모든 조건을 만족하면 당첨 번호는 외부 객체에 저장해 따로 보관해둔다.

4. 보너스 번호를 입력받는다.✅

   - 1~45 사이의 숫자를 딱 한 번 입력 받는다.
   - (에외) 숫자이외의 문자가 있거나 혼합되어 있으면 예외 처리한다.
   - (예외) 당첨 번호와 중복되는 숫자가 있으면 예외 처리한다.
   - 모든 조건을 만족하면 보너스 번호를 외부 객체에 따로 저장해 둔다.

5. 당첨 내역 + 총 수익률을 출력한다.✅

   - (조건) 3~6개 일치(5개+보너스 포함)까지 총 5개를 출력해준다. (1등,2등,3등,4등,5등)
   - 3개 일치부터 오름차순으로 줄바꿈을 해가면 출력한다.
   - 당첨 내역 아래에 수익률을 출력한다.
   - (조건) 소수점 둘째 자리에서 반올림한다.
   - 앞서 외부 객체에 따로 저장해둔 모든 값을 계산한 후에 수익률과 몇등이 몇개인지 출력해준다.

- [숫자확인으로 예외처리를 많이 사용하기에 추상화하여 클래스를 따로 만들자]
- [일급객체인 Lotto 클래스를 거치면 무조건 문제에 알맞은 숫자가 보장되고 남고 나머지는 예외처리된다]

## 주의 : 예외 상황 시 에러 문구를 출력해야한다. 단, 에러 문구는 '[ERROR]'로 시작해야 한다.

---

## 📕 3주차 과제 해온 기록

- 11/10 기능/프로래밍/과제 진행 요구사항 분석 및 정리 , 기능목록 초안 작성
- 11/11 기능 목록 1,2구현 및 테스트 코드 작성 , 클래스 분할 방법 공부
- 11/12 기능 목록 3,4,5구현 but 설계 미스로 반절이상 리모델링 / 기능목록 다시 생각
- 11/13 원시값을 일급객체로 포장하기 위해 lotto 클래스로 이주 및 테스트 케이스 완성 그리고 lotto 클래스 1차 리팩토링 완료
- 11/14~11/15 파일 경로 분류 및 그에맞는 폴더 생성/ 핵심로직과 ui로직 구분 / 최종 리팩토링
  - 2주차 피드백 적용했는지 확인, 문제 조건 지켰는지 확인, 기능단위 테스트케이스 만들기

---

## 🔖 체크리스트

```
문제 요구조건 체크리스트
[v] 기능 요구사항
-- 프로그래밍 요구사항
   [v] 0. 프로그램 실행의 시작점은 App.js의 play메서드이다.
   [v] 1. Node.js v14에서 잘되는지 확인
   [v] 2. 외부라이브러리 금지
   [v] 3. 자바스크립트 코드 컨벤션 지키기
   [v] 4. 프로그램종료시 process.exit() 호출x
   [v] 5. ApplicationTest 통과하는지 확인
   [v] 6. 파일,패키지 이름을 수정x
   [v] 7. indent 2까지만 허용
   [v] 8. 함수또는 메서드가 한 가지 일만 하도록 최대한 작게 만들기
   [v] 10. jest를 이용하여 본인이 정리한 기능 목록이 정상 동작하는지 테스트
   [v] 11. 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현
   [v] 12. else를 지양한다. 단 때로는 if/else, switch문을 사용하는 것이 더 깔끔. 어느 경우에 적절한지 스스로 고민
   [v] 13. 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI로직에 대한 단위 테스트는 제외한다.
         1) 핵심 로직을 구현하는 코드와 UI를 담당하는 로직으로 구분한다.
   [v] 14. Random 및 Console API를 사용하여 구현
   [v] 15. 제공된 Lotto 클래스를 활용해 구현
   [v] 16. numbers의 # prefix변경 x
   [v] 17. Lotto에 필드를 추가x
[v] 과제 진행 요구 사항

```

```
2주차 피드백 반영 체크리스트
[v]   require 경로 싱글 쿼터 적용
[v]   테스트 케이스 언어 통일
[v]   class에서 this를 사용하지 않으면 정적으로 구현
[v]   상수를 객체 안에 넣을 때 객체 이름만 대문자 내부값은
[v]   ESLint 사용
[v]   상수가 많으면 객체분리
[v]   비구조화 할당
[v]   const / let 확실히 구분
[v]   출력문, 오류 내용 등은 상수로 선언
[v]   내려가기 규칙 적용
```

```
우테코에서 3주차 미션의 학습 목표 수행여부
[v] 함수 분리 연습
[v] 함수별로 테스트코드 작성
[v] 클래스(객체)를 분리하는 연습
[v] 도메인 로직에 대한 단위 테스트를 작성하는 연습
```
